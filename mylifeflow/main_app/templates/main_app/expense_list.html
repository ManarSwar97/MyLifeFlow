{% extends 'base.html' %}{% load static %}
{% block content %}

<link rel="stylesheet" href="{% static 'css/budgets.css' %}">

<style>
  
.search-bar-container {
    max-width: 500px;
    margin: 2em auto 1em;
    text-align: center;
  }

  .search-form {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5em;
  }

  .search-form input[type="text"] {
    padding: 0.6em 1em;
    width: 100%;
    max-width: 350px;
    border: 1px solid #1976d2;
    border-radius: 6px;
    outline: none;
    font-size: 1em;
  }

  .search-form button {
    background: #1976d2;
    color: white;
    border: none;
    padding: 0.6em 1.2em;
    border-radius: 6px;
    font-size: 1em;
    cursor: pointer;
    transition: background 0.2s ease;
  }

  .search-form button:hover {
    background: #115293;
  }

</style>
<h2>Your Expenses</h2>
    <div class="search-bar-container">
    <form method="GET" action="{% url 'expense_list_search' %}" class="search-form">
      <input type="text" name="q" placeholder="Search Expense by name..." value="{{ query }}">
      <button type="submit"><i class="fas fa-search"></i></button>
    </form>
  </div>
<div class="expense-list-container">
  <h2 class="expense-heading">Your Expenses</h2>
  <a href="{% url 'expense_create' %}" class=" btn-add-expense">+ Add Expense</a>

  <ul class="expense-list">
    {% for expense in expense_list %}
      <li class="expense-item">
        <span class="expense-name">{{ expense.name }}</span>  
        <span class="expense-amount">BHD{{ expense.amount }}</span>
        <div class="expense-actions">
          <a href="{% url 'expense_update' expense.id %}" class="action-link edit-link">Edit</a>
          <a href="{% url 'expense_delete' expense.id %}" class="action-link delete-link">Delete</a>
        </div>
      </li>
    {% empty %}
      <li class="expense-item empty">No expenses recorded.</li>
    {% endfor %}
  </ul>
</div>
{% endblock %}
