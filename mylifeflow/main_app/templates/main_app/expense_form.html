{% extends 'base.html' %}
{% block content %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/budgets.css' %}">

<div class="form-container">
  {% if object %}
    <h1 class="form-title">Edit <span class="teal-text">{{ expense.name }}</span></h1>
  {% else %}
    <h1 class="form-title">Add Expense</h1>
  {% endif %}

  <form action="" method="post" enctype="multipart/form-data" id="expenseForm">
    {% csrf_token %}
    
    {% for field in form %}
      <div class="form-wrapper">
        {{ field.label_tag }}
        {{ field }}
        {% if field.help_text %}
          <small class="help-text">{{ field.help_text }}</small>
        {% endif %}
        {% for error in field.errors %}
          <p class="error-text">{{ error }}</p>
        {% endfor %}
      </div>
    {% endfor %}

    <input type="submit" value="Submit" class="btn" />
  </form>

  <a href="{% url 'expense_list' %}" class="btn btn-secondary">Cancel</a>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const selects = document.querySelectorAll('select');
    M.FormSelect.init(selects);
  });
</script>

{% endblock %}
